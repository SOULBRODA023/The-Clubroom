<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/output.css" />
		<title>Unlock Membership</title>
	</head>

	<body
		class="min-h-screen bg-gray-100 flex items-center justify-center p-4 text-gray-900 antialiased"
	>
		<section
			class="max-w-md w-full bg-white p-8 rounded-xl shadow-lg border border-gray-200"
		>
			<!-- Header -->
			<header class="mb-8 text-center">
				<h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">
					Become a Full Member
				</h2>
				<p class="text-gray-600">
					Unlock full access by entering the secret passcode.
				</p>
			</header>
			<!-- Success Message -->
			<% if (success && (!errors || errors.length === 0)) { %>
			<div
				class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg relative mb-4"
				role="alert"
			>
				<span class="block sm:inline"><%= success %></span>
			</div>
			<% } %>

			<!-- Error Message -->
			<% if (errors && errors.length > 0) { const generalError =
			errors.find(error => !error.param || error.param === "secret"); if
			(generalError) { %>
			<div
				class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-4"
				role="alert"
			>
				<span class="block sm:inline"><%= generalError.msg %></span>
			</div>
			<% } } %>

			<!-- Form -->
			<main>
				<form action="/passcode" method="POST" class="w-full space-y-6">
					<div>
						<input
							type="text"
							name="secret"
							id="secret"
							placeholder="Secret Passcode"
							class="w-full border border-gray-300 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 rounded-lg px-4 py-3 text-gray-800 placeholder-gray-400 focus:outline-none"
						/>
					</div>

					<button
						type="submit"
						class="w-full bg-black text-yellow-400 px-6 py-3 rounded-lg font-bold shadow-md hover:bg-gray-900 transition"
					>
						Unlock Membership
					</button>
				</form>
			</main>

			<!-- Info and Link -->
			<div class="text-center">
				<p class="text-sm text-gray-500 pt-8 mb-1">
					Don't have the code?
				</p>
				<a
					href="/passcode/riddle"
					class="text-yellow-600 hover:underline text-sm font-medium"
					>Riddle me this</a
				>
			</div>
		</section>
	</body>
</html>
